(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{12:function(e,t,r){},13:function(e,t,r){},14:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),o=r(7),c=r.n(o),s=(r(12),r(2)),i=r(3),u=r(5),l=r(4),d=(r(13),r(14),r(0)),h=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={valueFrom:"",valueTo:"",rateFrom:"UAH",rateTo:"UAH"},e.exchangeRates=function(e,t,r,a,n){var o;return e===t?o=1*+r:"UAH"===e&&"UAH"!==t?o="USD"===t?+r/n:+r/a:"USD"===e&&"USD"!==t?o="UAH"===t?+r*n:n/a*+r:"EUR"===e&&"EUR"!==t&&(o="UAH"===t?+r*a:a/n*+r),o},e.handelChange=function(t){e.setState({valueFrom:t.target.value}),e.setState((function(t){var r;return{valueTo:t.valueFrom?String(null===(r=e.exchangeRates(t.rateFrom,t.rateTo,t.valueFrom,e.props.eurRate,e.props.usdRate))||void 0===r?void 0:r.toFixed(2)):""}}))},e.handleChangeSelectFrom=function(t){e.setState({rateFrom:t.target.value}),e.setState((function(t){var r;return{valueTo:t.valueFrom?String(null===(r=e.exchangeRates(t.rateFrom,t.rateTo,t.valueFrom,e.props.eurRate,e.props.usdRate))||void 0===r?void 0:r.toFixed(2)):""}}))},e.handleChangeSelectTo=function(t){e.setState({rateTo:t.target.value}),e.setState((function(t){var r;return{valueTo:t.valueFrom?String(null===(r=e.exchangeRates(t.rateFrom,t.rateTo,t.valueFrom,e.props.eurRate,e.props.usdRate))||void 0===r?void 0:r.toFixed(2)):""}}))},e}return Object(i.a)(r,[{key:"render",value:function(){var e=this.state,t=e.valueFrom,r=e.valueTo,a=e.rateFrom,n=e.rateTo;return Object(d.jsxs)("div",{className:"converter",children:[Object(d.jsx)("input",{type:"number",min:"0",name:"valueFrom",className:"converter__input",placeholder:"Amount",value:t,onChange:this.handelChange}),Object(d.jsxs)("select",{name:"ratesName",className:"converter__select",value:a,onChange:this.handleChangeSelectFrom,children:[Object(d.jsx)("option",{value:"UAH",children:"UAH"}),Object(d.jsx)("option",{value:"USD",children:"USD"}),Object(d.jsx)("option",{value:"EUR",children:"EUR"})]}),Object(d.jsx)("input",{type:"number",name:"valueTo",className:"converter__input converter__input--readonly",value:r,readOnly:!0}),Object(d.jsxs)("select",{name:"ratesName",className:"converter__select",value:n,onChange:this.handleChangeSelectTo,children:[Object(d.jsx)("option",{value:"UAH",children:"UAH"}),Object(d.jsx)("option",{value:"USD",children:"USD"}),Object(d.jsx)("option",{value:"EUR",children:"EUR"})]}),Object(d.jsxs)("div",{className:"converter__text",children:["At the rate of the NBU on"," ",this.props.date]})]})}}]),r}(n.a.Component),v=function(){return fetch("".concat("https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json")).then((function(e){return e.ok?e.json():Promise.reject(new Error)}))},j=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={eurRate:null,usdRate:null,date:"",hasLoadingError:!1,error:""},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this;v().then((function(e){return e.filter((function(e){return"EUR"===e.cc}))})).then((function(t){e.setState({eurRate:+t[0].rate.toFixed(2),date:t[0].exchangedate,hasLoadingError:!1,error:""})})).catch((function(){e.setState({hasLoadingError:!0,error:"an error occurred when loading rates"})})),v().then((function(e){return e.filter((function(e){return"USD"===e.cc}))})).then((function(t){e.setState({usdRate:+t[0].rate.toFixed(2),hasLoadingError:!1,error:""})})).catch((function(){e.setState({hasLoadingError:!0,error:"an error occurred when loading rates"})}))}},{key:"render",value:function(){var e=this.state,t=e.eurRate,r=e.usdRate,a=e.date,n=e.hasLoadingError,o=e.error;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("div",{className:"App__header",children:[Object(d.jsx)("div",{className:"logo"}),Object(d.jsx)("div",{className:"rate",children:n?Object(d.jsx)("div",{children:o}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:["EUR:"," ",t]}),Object(d.jsxs)("div",{children:["USD:"," ",r]})]})})]}),Object(d.jsx)("div",{className:"App__content",children:t&&r&&Object(d.jsx)(h,{eurRate:t,usdRate:r,date:a})})]})}}]),r}(n.a.Component);c.a.render(Object(d.jsx)(j,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.2d52d3ae.chunk.js.map